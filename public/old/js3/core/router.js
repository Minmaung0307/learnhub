export const Router=(()=>{const r=new Map();let d="/dashboard";function i(p,h){r.set(p,h)}function s(def){d=def||d;addEventListener("hashchange",()=>t());t()}function t(){const h=location.hash||("#"+d);const p="/"+h.replace(/^#\/?/,"").split('?')[0];const f=r.get(p);document.dispatchEvent(new CustomEvent("route:change",{detail:{p}}));if(f)f();else(r.get("/404")?.())}return{register:i,start:s,route:t};})();